<script setup>
import AuthenticatedLayout from '@/Layouts/AuthenticatedLayout.vue';
import { Head } from '@inertiajs/vue3';
import { ref } from 'vue';

// props –±–µ–∑ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –æ–∂–∏–¥–∞–µ–º –º–∞—Å—Å–∏–≤ –∑–∞–¥–∞—á
const props = defineProps({
  tasks: Array, // tasks - —ç—Ç–æ –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤
});

const searchQuery = ref(''); // –ü–æ–∏—Å–∫ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ã—á–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π

const search = () => {
    if (searchQuery.value.trim()) {
        console.log('–ü–æ–∏—Å–∫:', searchQuery.value);
        // –¢—É—Ç –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å API-–∑–∞–ø—Ä–æ—Å –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∑–∞–¥–∞—á
    }
};
</script>

<template>
    <Head title="Dashboard" />

    <AuthenticatedLayout>
        <template #header>
            <h2 class="text-xl font-semibold leading-tight text-gray-800">
                Dashboard
            </h2>
        </template>

        <div class="py-12">
            <div class="mx-auto max-w-7xl sm:px-6 lg:px-8">
                <div class="overflow-hidden bg-white shadow-sm sm:rounded-lg">
                    <div class="search-container">
                        <input v-model="searchQuery" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å..."
                            @keyup.enter="search" />
                        <button @click="search">üîç</button>
                    </div>
                    <div class="admin-panel">
                        <h1>Admin Panel</h1>
                        <ul>
                            <!-- –†–µ–Ω–¥–µ—Ä–∏–º —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á —Å –ø–æ–º–æ—â—å—é v-for -->
                            <li v-for="task in props.tasks" :key="task.id">
                                <div>{{ task.name }}</div>
                                <div>{{ task.description }}</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </AuthenticatedLayout>
</template>
